(select name from drinker) except (with anti_subs as (with notlikes as ((select drinker.name drinker,beer.name beer from drinker, beer) except (select * from likes)) select distinct nl.drinker, s.bar from notlikes nl, serves s where nl.beer=s.beer) select distinct f.name from (select drinker as name, bar from frequents) as f JOIN anti_subs ON f.name=anti_subs.drinker and f.bar=anti_subs.bar)
